{
  "name": "taito-ew",
  "description": "edgeworker-description",
  "version": "0.0.1",
  "property": "ewdemo.test.edgekey.net",
  "ewid": 5884,
  "main": "main.js",
  "license": "MIT",
  "dependencies": {
    "query-string": "^7.0.0",
    "url-parse": "^1.5.1"
  },
  "devDependencies": {
    "@rollup/plugin-commonjs": "^19.0.0",
    "@rollup/plugin-node-resolve": "^13.0.0",
    "@rollup/plugin-typescript": "^8.2.1",
    "@types/akamai-edgeworkers": "^1.0.5",
    "@types/query-string": "^6.3.0",
    "@types/url-parse": "^1.4.3",
    "npe": "^1.1.4",
    "rollup": "^2.50.5",
    "tslib": "^2.2.0",
    "typescript": "^4.3.2",
    "yarn-run-all": "^3.1.1"
  },
  "scripts": {
    "start": "run-s start:1 start:2 start:3 start:4 start:5",
    "start:1": "echo \"### (1/5) Install packages\" && yarn install",
    "start:2": "read -p \"### (2/5) Your EdgeWorker code name? : \" name && npe name $name",
    "start:3": "read -p \"### (3/5) Description? : \" description && npe name $description",
    "start:4": "read -p \"### (4/5) Set initial script version (default:0.0.1) : \" ver; [[ $ver = \"\" ]] && export ver=\"0.0.1\"; npe version $ver",
    "start:5": "read -p \"### (5/5) Property name associated with this ew code  : \" property && npe property $property",
    "get-ewid": "export ewid=`akamai edgeworkers li | grep $npm_package_name | cut -d \" \" -f 1` && npe ewid $ewid",
    "set-ver": "yarn version",
    "bundle-json": "mkdir -p ./dist && echo \"{\\n\\t\\\"edgeworker-version\\\":\\\"${npm_package_version}\\\",\\n\\t\\\"description\\\":\\\"${npm_package_description}\\\"\\n}\" > ./dist/bundle.json",
    "rollup": "rollup -c",
    "tar": "cd ./dist && tar -czvf bundle.tgz *.js bundle.json",
    "upload": "akamai edgeworkers upload --bundle ./dist/bundle.tgz $npm_package_ewid",
    "staging": "akamai edgeworkers av $npm_package_ewid staging $npm_package_version",
    "production": "akamai edgeworkers av $npm_package_ewid production $npm_package_version",
    "sandbox": "akamai sandbox update-edgeworker $npm_package_ewid ./dist/bundle.tgz ",
    "build": "run-s set-ver bundle-json rollup tar",
    "deploy": "run-s build upload production staging",
    "update": "run-s build sandbox",
    "status": "akamai edgeworkers status $npm_package_ewid",
    "new-sandbox": "akamai sandbox create --hostname $npm_package_property --name $npm_package_property && akamai sandbox add-edgeworker $npm_package_ewid ./dist/bundle.tgz",
    "start-sandbox": "akamai sandbox start",
    "token": "export token=`akamai edgeworkers create-auth-token --format curl --expiry 60 $npm_package_property | cut -d \" \" -f 2` && npe token $token",
    "test": "wrap () { export url=\"$*\"; http $url host:$npm_package_property Pragma:\"akamai-x-get-cache-key, akamai-x-cache-on, akamai-x-cache-remote-on, akamai-x-get-true-cache-key, akamai-x-check-cacheable, akamai-x-get-request-id, akamai-x-serial-no, akamai-x-get-ssl-client-session-id, X-Akamai-CacheTrack, akamai-x-get-client-ip, akamai-x-feo-trace, akamai-x-tapioca-trace, akamai-x-ew-debug\" Akamai-EW-Trace:$npm_package_token; }; wrap"
  },
  "token": "st=1622534617~exp=1622538217~acl=/*~hmac=7ebf1fa215e54e55b0deca2e3a651534385df8e7265554c00bbfeb9beb2e6a44"
}
